<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Registration</title>
</head>
<body>
    <div style="padding: 40px;">
        <form>
            <p><label>User ID:</label> <input id="userID" type="text" onkeyup="verifyPasswordValidation();" required></p><br>
            <p><label>Password:</label> <input id="password" type="password" style="display: inline-block"
                                            onchange="verifyPasswordsMatch();" onkeyup="verifyPasswordValidation();"
                                               required> </p>
            <div style="position: absolute; margin-left: 30%; margin-top: -50px; border: 1px solid; padding: 10px;">
                <span id="textLengthCheck">&#10060;</span> Between 7 and 20 characters<br>
                <span id="alphaCharacterCheck">&#10060;</span> 4 alpha characters<br>
                <span id="numericOrSpecialCharacterCheck">&#10060;</span> At least one numeric or special character<br>
                <span id="spaceCheck">&#10060;</span> No spaces<br>
                <span id="userIdCheck">&#10060;</span> Different from user ID<br>
            </div>
            <br>
            <p><label>Verify Password:</label> <input id="verifyPassword" type="password"
                                                      onchange="verifyPasswordsMatch()" required></p><br>
            <p><label>Email Address:</label> <input id="emailAddress" type="email" placeholder="Enter email"
                                                    onchange="verifyEmailsMatch()" required></p><br>
            <p><label>Verify Email Address:</label> <input id="verifyEmailAddress" type="email" placeholder="Enter email"
                                                           onchange="verifyEmailsMatch()" required></p><br>
            <p><label>Security Question:</label>
            <select type="text">
                <option value="question1">Sum of 2 + 3 =</option>
                <option value="question2">Sum of 100 + 200</option>
                <option value="question3">23 x 100 =</option>
                <option value="question4">Capital of India?</option>
                <option value="question5">Capital of USA?</option>
            </select></p><br>
            <p><label>Security Answer:</label> <input type="text" required></p><br>
            <p><label>Security Question:</label>
            <select type="text">
                <option value="question1">Sum of 2 + 3 =</option>
                <option value="question2">Sum of 100 + 200</option>
                <option value="question3">23 x 100 =</option>
                <option value="question4">Capital of India?</option>
                <option value="question5">Capital of USA?</option>
            </select></p><br>
            <p><label>Security Answer:</label> <input type="text" required></p><br>
            <p><label>Mobile:</label> <input type="text" required></p><br>
            <p><label style="vertical-align: middle;">Address:</label> <textarea type="text" required></textarea></p><br>
            <p><label></label><span>Areas you may be interested in, please select one or more:</span><br>
            <p><label></label><textarea style="width: 98%;" type="text"></textarea></p><br>
            <p><label></label><input type="submit"><button style="margin-left: 15px;" type="button">Cancel</button></p>
        </form>
    </div>
</body>
<style>
    form {
        display: table;
    }
    select {
        display: table-cell;
    }
    label {
        display: table-cell;
        white-space: nowrap;
        padding-right: 15px;
        text-align: right;
    }
    p {
        display: table-row;
    }
</style>
<script>
    function verifyPasswordValidation() {
        var passwordEle = document.getElementById('password');
        var password= document.getElementById('password').value;

        var spaceValid = true;
        var letterCount = 0;
        var numberPresent = false;
        var specialCharacterPresent = false;
        passwordEle.setCustomValidity('');

        if (password.length < 7 || password.length > 20) {
            passwordEle.setCustomValidity('Passwords length must be 7-20 characters');
            document.getElementById('textLengthCheck').innerHTML = "&#10060";
        }
        else {
            document.getElementById('textLengthCheck').innerHTML = "&#9989";
        }

        for (var i = 0; i < password.length; i++) {
            if (password.charAt(i).toLowerCase().match(/[a-z]/i)) {
                letterCount++;
            }
            else if ('0123456789'.indexOf(password.charAt(i)) !== -1) {
                numberPresent = true;
            }
            else if ('!#$%'.indexOf(password.charAt(i)) !== -1) {
                specialCharacterPresent = true;
            }
            else if (' ' === password.charAt(i)) {
                spaceValid = false;
            }
        }

        if (letterCount < 4) {
            passwordEle.setCustomValidity('Passwords must have at least 4 alpha characters');
            document.getElementById('alphaCharacterCheck').innerHTML = "&#10060";
        }
        else {
            document.getElementById('alphaCharacterCheck').innerHTML = "&#9989";
        }

        if (numberPresent === false && specialCharacterPresent === false ) {
            passwordEle.setCustomValidity('Passwords must have at least 1 number or 1 special character');
            document.getElementById('numericOrSpecialCharacterCheck').innerHTML = "&#10060";
        }
        else {
            document.getElementById('numericOrSpecialCharacterCheck').innerHTML = "&#9989";
        }

        if (spaceValid === false){
            passwordEle.setCustomValidity('Passwords must not contain spaces');
            document.getElementById('spaceCheck').innerHTML = "&#10060";
        }
        else {
            document.getElementById('spaceCheck').innerHTML = "&#9989";
        }

        if (password === document.getElementById('userID').value) {
            passwordEle.setCustomValidity('Passwords must be different from User ID');
            document.getElementById('userIdCheck').innerHTML = "&#10060";
        }
        else {
            document.getElementById('userIdCheck').innerHTML = "&#9989";
        }

    }
    function verifyPasswordsMatch() {
        var passwordEle = document.getElementById('password');
        var verifyPasswordEle = document.getElementById('verifyPassword');

        if (passwordEle.value != verifyPasswordEle.value) {
            verifyPasswordEle.setCustomValidity('Passwords Must Match.');
        } else {
            // input is valid -- reset the error message
            verifyPasswordEle.setCustomValidity('');
        }
    }

    function verifyEmailsMatch() {
        var emailAddressEle = document.getElementById('emailAddress');
        var verifyEmailAddressEle = document.getElementById('verifyEmailAddress');

        if (emailAddressEle.value != verifyEmailAddressEle.value) {
            verifyEmailAddressEle.setCustomValidity('Emails Must Match.');
        } else {
            // input is valid -- reset the error message
            verifyEmailAddressEle.setCustomValidity('');
        }
    }
</script>
</html>